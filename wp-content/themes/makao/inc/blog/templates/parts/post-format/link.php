<?php
$link_url_meta  = get_post_meta( get_the_ID(), 'qodef_post_format_link', true );
$link_url       = ! empty( $link_url_meta ) ? $link_url_meta : get_the_permalink();
$link_text_meta = get_post_meta( get_the_ID(), 'qodef_post_format_link_text', true );

if ( ! empty( $link_url ) ) {
	$link_text = ! empty( $link_text_meta ) ? $link_text_meta : get_the_title();
	$title_tag = isset( $title_tag ) && ! empty( $title_tag ) ? $title_tag : 'h3';
	?>
	<div class="qodef-e-link">
        <div class="qodef-e-link-svg">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                 width="234.5px" height="235px" viewBox="0 0 234.5 235" enable-background="new 0 0 234.5 235" xml:space="preserve">
            <g>
                <path fill="none" stroke="#000000" stroke-miterlimit="10" d="M128.081,150.143c-1.618,4.012-4.049,7.77-7.296,11.018
                    l-44.931,44.932c-12.943,12.941-34.003,12.943-46.946,0c-12.943-12.941-12.943-34.004,0-46.945l44.932-44.932
                    c3.247-3.248,7.005-5.679,11.018-7.297c1.07-0.43,2.158-0.8,3.258-1.115c5.68-1.627,11.709-1.713,17.427-0.26
                    c1.332,0.339,2.646,0.761,3.937,1.267c4.12,1.617,7.982,4.081,11.307,7.405c3.324,3.325,5.789,7.187,7.405,11.307
                    c5.826,1.949,12.138,2.059,18.016,0.314c-2.099-8.692-6.537-16.934-13.323-23.719l0,0c-6.785-6.786-15.028-11.225-23.719-13.323
                    c-1.113-0.269-2.235-0.487-3.36-0.68c-5.819-0.991-11.776-0.96-17.585,0.103c-1.201,0.22-2.394,0.485-3.58,0.793
                    c-8.388,2.175-16.326,6.536-22.896,13.107L16.81,147.049c-19.645,19.645-19.645,51.496,0,71.141h0
                    c19.645,19.645,51.497,19.645,71.142,0l44.931-44.932c6.57-6.57,10.931-14.508,13.106-22.895
                    C140.054,151.283,133.996,151.209,128.081,150.143z"/>
                <path fill="none" stroke="#000000" stroke-miterlimit="10" d="M218.19,16.811L218.19,16.811
                    c-19.646-19.646-51.496-19.646-71.142-0.001l-44.932,44.933c-6.57,6.569-10.93,14.507-13.106,22.895
                    c5.935-0.921,11.992-0.846,17.908,0.22c1.618-4.012,4.049-7.771,7.296-11.018l44.931-44.931
                    c12.943-12.943,34.004-12.942,46.946,0.001c12.943,12.942,12.942,34.002,0,46.945l-44.932,44.931
                    c-3.247,3.247-7.005,5.678-11.019,7.297c-1.069,0.43-2.157,0.799-3.258,1.115c-5.68,1.627-11.709,1.713-17.427,0.262
                    c-1.333-0.34-2.647-0.762-3.937-1.27c-4.12-1.615-7.982-4.08-11.306-7.404c-3.325-3.324-5.789-7.186-7.406-11.307
                    c-5.825-1.952-12.137-2.061-18.015-0.316c2.098,8.691,6.537,16.935,13.322,23.72h0c6.785,6.785,15.027,11.225,23.718,13.322
                    c1.113,0.268,2.235,0.486,3.361,0.68c5.819,0.99,11.776,0.961,17.586-0.102c1.2-0.221,2.394-0.486,3.579-0.793
                    c8.388-2.176,16.326-6.537,22.896-13.107l44.932-44.931C237.835,68.307,237.835,36.456,218.19,16.811z"/>
            </g>
         </svg>
        </div>
		<<?php echo esc_attr( $title_tag ); ?> class="qodef-e-link-text"><?php echo esc_html( $link_text ); ?></<?php echo esc_attr( $title_tag ); ?>>
		<a itemprop="url" class="qodef-e-link-url" href="<?php echo esc_url( $link_url ); ?>" target="_blank"></a>
	</div>
<?php } ?>